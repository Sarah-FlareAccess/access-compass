/**
 * Access Modules with Full Question Inventory
 *
 * V2 15/12/25 - Complete module set matching Access Compass question inventory.
 * 17 modules across 4 journey phases with conditional logic, confidence-based responses,
 * and optional evidence collection.
 *
 * Response Types:
 * - yes-no-unsure: Standard Yes / No / Not sure
 * - yes-no-limited: Yes / Limited options / No / Not sure
 * - single-select: Single choice from options
 * - multi-select: Multiple choices from options
 * - link-input: URL/link input field
 * - measurement: Numeric measurement with unit
 *
 * Review Modes:
 * - pulse-check: Quick overview questions (shown in both modes)
 * - deep-dive: Additional detailed questions (only in deep dive mode)
 */

import type { BranchingQuestion } from '../hooks/useBranchingLogic';

export interface AccessModule {
  id: string;
  code: string;
  name: string;
  description: string;
  group: 'before-arrival' | 'getting-in' | 'during-visit' | 'service-support';
  estimatedTime: number;
  estimatedTimeDeepDive?: number;
  icon: string;
  questions: BranchingQuestion[];
}

export const moduleGroups = [
  {
    id: 'before-arrival',
    label: 'Before they arrive',
    description: 'How customers find information and plan their visit',
  },
  {
    id: 'getting-in',
    label: 'Getting in and moving around',
    description: 'Physical access and navigation',
  },
  {
    id: 'during-visit',
    label: 'During the visit',
    description: 'The experience while on-site',
  },
  {
    id: 'service-support',
    label: 'Service and support',
    description: 'How you serve and support customers',
  },
];

export const accessModules: AccessModule[] = [
  // ============================================
  // BEFORE THEY ARRIVE (4 modules)
  // ============================================

  // B1: Pre-visit Information
  {
    id: 'B1',
    code: 'B1',
    name: 'Pre-visit information',
    description: 'How you share accessibility information before customers visit',
    group: 'before-arrival',
    estimatedTime: 12,
    estimatedTimeDeepDive: 18,
    icon: '‚ÑπÔ∏è',
    questions: [
      {
        id: 'B1-F-1',
        text: 'Do you have accessibility information available for customers before they visit?',
        helpText: 'Examples: a dedicated accessibility page, accessibility guide, social story / visual narrative, information included across relevant pages, or clear pre-visit guidance.',
        type: 'yes-no-unsure',
        category: 'information',
        impactLevel: 'high',
        reviewMode: 'pulse-check',
        isEntryPoint: true,
      },
      {
        id: 'B1-F-2A',
        text: "What's currently stopping you from sharing accessibility information?",
        helpText: 'Select all that apply',
        type: 'multi-select',
        category: 'operational',
        impactLevel: 'medium',
        reviewMode: 'pulse-check',
        options: [
          { id: 'not-sure-content', label: "We're not sure what information to include" },
          { id: 'worried-wrong', label: "We're worried about getting it wrong" },
          { id: 'inconsistent', label: "Our access features aren't consistent" },
          { id: 'hard-to-update', label: 'Our website or platforms are hard to update' },
          { id: 'never-asked', label: "We've never been asked before" },
          { id: 'other', label: 'Other / Not sure' },
        ],
        showWhen: { questionId: 'B1-F-1', answers: ['no', 'not-sure'] },
      },
      {
        id: 'B1-F-3A',
        text: 'Where would it be easiest to start sharing accessibility information?',
        helpText: 'Select one or more options',
        type: 'multi-select',
        category: 'operational',
        impactLevel: 'medium',
        reviewMode: 'pulse-check',
        options: [
          { id: 'website', label: 'Website' },
          { id: 'booking-platform', label: 'Booking platform' },
          { id: 'social-media', label: 'Social media' },
          { id: 'email-responses', label: 'Email responses' },
          { id: 'on-request', label: 'On request only' },
          { id: 'not-sure', label: 'Not sure yet' },
        ],
        showWhen: { questionId: 'B1-F-1', answers: ['no', 'not-sure'] },
      },
      {
        id: 'B1-F-2B',
        text: 'What types of accessibility information do you currently share?',
        helpText: 'Select all that apply',
        type: 'multi-select',
        category: 'information',
        impactLevel: 'medium',
        reviewMode: 'pulse-check',
        options: [
          { id: 'physical-access', label: 'Physical access (parking, entrances, toilets, seating)' },
          { id: 'what-to-expect', label: 'What to expect during a visit (layout, queues, timing)' },
          { id: 'sensory', label: 'Sensory considerations (noise, lighting, temperature, busy vs quieter times)' },
          { id: 'communication', label: 'Communication support (hearing loops, visual info, QR code)' },
          { id: 'companion', label: 'Companion or support information' },
          { id: 'peak-times', label: 'Peak periods or quieter times' },
          { id: 'social-story', label: 'Social story / visual narrative' },
          { id: 'other', label: 'Other / Not sure' },
        ],
        showWhen: { questionId: 'B1-F-1', answers: ['yes'] },
      },
      {
        id: 'B1-F-3B',
        text: 'How confident are you that this information is accurate and up to date?',
        type: 'single-select',
        category: 'operational',
        impactLevel: 'medium',
        reviewMode: 'pulse-check',
        options: [
          { id: 'very-confident', label: 'Very confident' },
          { id: 'somewhat-confident', label: 'Somewhat confident' },
          { id: 'not-very-confident', label: 'Not very confident' },
          { id: 'not-sure', label: 'Not sure' },
        ],
        showWhen: { questionId: 'B1-F-1', answers: ['yes'] },
      },
      {
        id: 'B1-F-4',
        text: 'Would you like us to review a link to your accessibility information to help identify gaps and opportunities?',
        helpText: 'This review is indicative only and based on publicly available information. It does not verify accuracy or confirm compliance.',
        type: 'yes-no-unsure',
        category: 'information',
        impactLevel: 'low',
        reviewMode: 'pulse-check',
        showWhen: { questionId: 'B1-F-1', answers: ['yes'] },
      },
      {
        id: 'B1-F-4-link',
        text: 'Paste the link where your accessibility information is shared',
        helpText: 'This review is indicative only and based on publicly available information. It does not verify accuracy or confirm compliance.',
        type: 'url-analysis',
        category: 'evidence',
        impactLevel: 'low',
        reviewMode: 'pulse-check',
        showWhen: { questionId: 'B1-F-4', answers: ['yes'] },
      },
      {
        id: 'B1-F-5',
        text: 'Can customers contact you in a variety of ways to ask accessibility questions before visiting?',
        helpText: 'Examples include phone, email, social media, contact forms, or booking enquiries.',
        type: 'single-select',
        category: 'operational',
        impactLevel: 'high',
        reviewMode: 'pulse-check',
        options: [
          { id: 'yes-multiple', label: 'Yes (multiple options available)' },
          { id: 'limited', label: 'Limited options' },
          { id: 'not-sure', label: 'Not sure' },
          { id: 'no', label: 'No' },
        ],
      },
      {
        id: 'B1-F-6',
        text: 'Do staff know how to confidently respond to accessibility enquiries?',
        type: 'single-select',
        category: 'operational',
        impactLevel: 'high',
        reviewMode: 'pulse-check',
        options: [
          { id: 'yes-consistently', label: 'Yes, consistently' },
          { id: 'sometimes', label: 'Sometimes' },
          { id: 'not-sure', label: 'Not sure' },
          { id: 'no', label: 'No' },
        ],
      },
    ],
  },

  // B4.1: Website Basics
  {
    id: 'B4.1',
    code: 'B4.1',
    name: 'Website basics',
    description: 'Basic accessibility of your website for all visitors',
    group: 'before-arrival',
    estimatedTime: 15,
    estimatedTimeDeepDive: 20,
    icon: 'üåê',
    questions: [
      {
        id: 'B4.1-1-1',
        text: 'Can all website content be accessed using only a keyboard (no mouse required)?',
        helpText: 'Try navigating your site using only Tab, Enter, and arrow keys.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'high',
        reviewMode: 'pulse-check',
        isEntryPoint: true,
      },
      {
        id: 'B4.1-1-2',
        text: 'Do all images on your website have alt text or image descriptions?',
        helpText: 'Alt text and image descriptions both help people understand images, but they are used in slightly different ways.\n\nAlt text is a short description added directly to an image. It is read automatically by screen readers and should briefly explain the purpose of the image in context.\n\nImage descriptions are longer explanations provided in nearby text or linked content. They are useful for complex images such as charts, diagrams, maps, or detailed visuals that need more explanation than a short alt text can provide.\n\nBoth alt text and image descriptions should focus on what the image is communicating, not just what it looks like. Decorative images that do not add information do not need alt text or image descriptions.',
        type: 'yes-no-unsure',
        category: 'information',
        impactLevel: 'high',
        reviewMode: 'pulse-check',
      },
      {
        id: 'B4.1-1-3',
        text: 'Is your website text easy to read with good contrast between text and background?',
        helpText: 'Good colour contrast makes text easier to read. Text should clearly stand out from the background, for example dark text on a light background, or light text on a dark background. Text that blends into the background, uses very light colours, or sits on busy images can be hard to read.\n\nIf you need to strain your eyes, zoom in, or adjust your screen to read the text comfortably, or if you cannot easily scan the page, the contrast may not be strong enough.',
        type: 'yes-no-unsure',
        category: 'information',
        impactLevel: 'high',
        reviewMode: 'pulse-check',
        allowPartial: true, // Some pages may have good contrast, others not
      },
      {
        id: 'B4.1-1-4',
        text: 'Can users resize text up to 400% without losing content or functionality?',
        helpText: 'Text resizing allows users to increase the size of text without breaking the page. When text is increased, content should remain visible and usable. Text should not overlap, disappear, be cut off, or require sideways scrolling to read. Buttons, menus, and forms should still work as expected.\n\nYou can usually test this by zooming your browser or increasing text size and checking whether the page still works smoothly.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'medium',
        reviewMode: 'pulse-check',
      },
      {
        id: 'B4.1-1-5',
        text: 'Does your website work well on mobile devices?',
        helpText: 'A website that works well on mobile is easy to use on a phone or tablet, not just on a desktop computer.\n\nOn mobile devices, text should be readable without zooming, buttons and links should be easy to tap, and content should fit the screen without needing to scroll sideways. Menus, forms, and key features should still work smoothly.\n\nYou can check this by opening your website on a phone and trying to complete common tasks, such as finding information, using the menu, or submitting a form.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'medium',
        reviewMode: 'pulse-check',
      },
      // Media Analysis Questions
      {
        id: 'B4.1-MA-1',
        text: 'Enter your website URL for accessibility analysis',
        helpText: 'We can perform an automated accessibility audit of your website using industry-standard tools (WAVE integration coming soon). This checks for WCAG 2.1 compliance including contrast, structure, labels, and more.',
        type: 'media-analysis',
        category: 'evidence',
        impactLevel: 'high',
        reviewMode: 'deep-dive',
        mediaAnalysisType: 'website-wave',
        mediaAnalysisHint: 'Enter your website URL (e.g., https://yourbusiness.com.au) for an automated accessibility check against WCAG 2.1 guidelines.',
      },
    ],
  },

  // B4.2: Booking Systems and Forms
  {
    id: 'B4.2',
    code: 'B4.2',
    name: 'Booking systems and forms',
    description: 'Accessibility of your online booking and form systems',
    group: 'before-arrival',
    estimatedTime: 10,
    estimatedTimeDeepDive: 15,
    icon: 'üìù',
    questions: [
      {
        id: 'B4.2-1-1',
        text: 'Can customers share their accessibility requirements when booking online?',
        helpText: 'This refers to whether customers have a clear way to tell you about their accessibility needs during the online booking process.\n\nThis might include a dedicated accessibility question, a free-text field, a tick box, or a notes section where customers can share requirements such as mobility access, hearing or vision support, sensory considerations, or assistance needs.\n\nIt should be easy to find, optional to complete, and reviewed by staff so requests can be acknowledged and responded to.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'high',
        reviewMode: 'pulse-check',
        isEntryPoint: true,
      },
      {
        id: 'B4.2-1-2',
        text: 'Are error messages on forms clear and helpful?',
        helpText: 'Good error messages explain what went wrong and how to fix it.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'medium',
        reviewMode: 'pulse-check',
      },
    ],
  },

  // B4.3: Video and Social Media
  {
    id: 'B4.3',
    code: 'B4.3',
    name: 'Video and social media',
    description: 'Accessibility of your video content and social media presence',
    group: 'before-arrival',
    estimatedTime: 10,
    estimatedTimeDeepDive: 15,
    icon: 'üé¨',
    questions: [
      {
        id: 'B4.3-1-1',
        text: 'Do your videos have captions or subtitles?',
        helpText: 'Captions or subtitles display spoken words and important sounds from a video as text on the screen. Captions are especially important for videos that share information, instructions, or stories.\n\nCaptions should be accurate, easy to read, and available for all spoken content, not just key moments.',
        type: 'yes-no-unsure',
        category: 'information',
        impactLevel: 'high',
        reviewMode: 'pulse-check',
        isEntryPoint: true,
      },
      {
        id: 'B4.3-1-2',
        text: 'Do you include alt text and image descriptions when posting on social media?',
        helpText: 'Alt text and image descriptions both help people understand images, but they are used in slightly different ways.\n\nAlt text is a short description added directly to an image. It is read automatically by screen readers and should briefly explain the purpose of the image in context.\n\nImage descriptions are longer explanations provided in nearby text or linked content. They are useful for complex images such as charts, diagrams, maps, or detailed visuals that need more explanation than a short alt text can provide.\n\nBoth alt text and image descriptions should focus on what the image is communicating, not just what it looks like. Decorative images that do not add information do not need alt text or image descriptions.',
        type: 'yes-no-unsure',
        category: 'information',
        impactLevel: 'medium',
        reviewMode: 'pulse-check',
      },
      {
        id: 'B4.3-1-3',
        text: 'Are video controls accessible (play, pause, volume)?',
        helpText: 'Accessible video controls allow users to easily play, pause, stop, and adjust the volume of a video.\n\nIf a video plays automatically, users should be able to quickly pause or stop it. Controls should be easy to find, clearly labelled, and usable with a keyboard, mouse, or touch.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'medium',
        reviewMode: 'pulse-check',
      },
      // Media Analysis Questions
      {
        id: 'B4.3-MA-1',
        text: 'Upload a screenshot of a social media post for accessibility analysis',
        helpText: 'Our AI will analyze your social media posts for accessibility features like alt text presence, caption readability, contrast, and inclusive language.',
        type: 'media-analysis',
        category: 'evidence',
        impactLevel: 'medium',
        reviewMode: 'deep-dive',
        mediaAnalysisType: 'social-media-post',
        mediaAnalysisHint: 'Take a screenshot of a recent social media post (Instagram, Facebook, LinkedIn) to check for accessibility best practices.',
      },
      {
        id: 'B4.3-MA-2',
        text: 'Enter a social media profile URL for accessibility review',
        helpText: 'We can review your social media presence for accessibility practices including alt text usage, caption quality, and content accessibility.',
        type: 'media-analysis',
        category: 'evidence',
        impactLevel: 'medium',
        reviewMode: 'deep-dive',
        mediaAnalysisType: 'social-media-url',
        mediaAnalysisHint: 'Enter your Instagram, Facebook, or LinkedIn profile URL to review your accessibility practices.',
      },
    ],
  },

  // ============================================
  // GETTING IN AND MOVING AROUND (4 modules)
  // ============================================

  // A1: Arrival, Parking and Drop-off
  {
    id: 'A1',
    code: 'A1',
    name: 'Arrival, parking and drop-off',
    description: 'How customers arrive at and enter your premises',
    group: 'getting-in',
    estimatedTime: 15,
    estimatedTimeDeepDive: 25,
    icon: 'üÖøÔ∏è',
    questions: [
      // Pulse Check Questions
      {
        id: 'A1-F-1',
        text: 'Do you have designated accessible parking spaces?',
        helpText: 'Designated accessible parking spaces are parking bays set aside for people with disability and mobility needs. These spaces are typically wider than standard bays and clearly identified with signage and ground markings so they are easy to recognise.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'high',
        reviewMode: 'pulse-check',
        isEntryPoint: true,
      },
      {
        id: 'A1-F-2',
        text: 'Are accessible parking spaces located close to the main entrance?',
        helpText: 'Accessible parking should be positioned as close as reasonably possible to the main entrance to reduce the distance people need to travel.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'high',
        reviewMode: 'pulse-check',
      },
      {
        id: 'A1-F-3',
        text: 'Is there a drop-off zone near the entrance for customers who need it?',
        helpText: 'A drop-off zone allows customers to be safely set down close to the entrance without needing to park. This area should be step free and connected to the entrance by a clear, accessible path.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'medium',
        reviewMode: 'pulse-check',
      },
      {
        id: 'A1-F-4',
        text: 'Is the path from accessible parking to the entrance smooth and level?',
        helpText: 'The path from parking to the entrance should be easy to move along without steps, sudden level changes, loose surfaces, or obstacles.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'high',
        reviewMode: 'pulse-check',
      },
      {
        id: 'A1-F-5',
        text: 'Is the path wide enough for people using mobility aids, walking with companions or using service animals (at least 1 metre)?',
        helpText: 'Paths should be wide enough for wheelchair users, people with walking aids, service animals, or those walking side by side. A minimum clear width of around 1 metre helps people move comfortably without needing to step aside or navigate obstacles.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'medium',
        reviewMode: 'pulse-check',
      },
      {
        id: 'A1-F-6',
        text: 'Would a first-time visitor know where to find accessible parking?',
        helpText: 'Accessible parking should be easy to locate without prior knowledge of the site. Clear signage, logical placement, and visible pathways help first-time visitors feel confident and reduce the need to ask for assistance.',
        type: 'yes-no-unsure',
        category: 'information',
        impactLevel: 'medium',
        reviewMode: 'pulse-check',
      },
      {
        id: 'A1-F-7',
        text: 'Do staff know how to direct customers to accessible parking and entry points?',
        helpText: 'Staff should be able to confidently explain where accessible parking, drop-off zones, and step-free entrances are located. This reduces stress for customers and avoids the need for them to navigate the site on their own.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'medium',
        reviewMode: 'pulse-check',
      },
      {
        id: 'A1-F-8',
        text: 'Is the parking area well-lit for customers arriving in low light?',
        helpText: 'Good lighting helps customers feel safe and confident when arriving early in the morning, evening, or at night. Well-lit parking areas help everyone navigate paths, signage, and entrances more easily.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'medium',
        reviewMode: 'pulse-check',
      },
      // Deep Dive Questions
      {
        id: 'A1-D-9',
        text: 'During busy periods, are accessible parking spaces still available and not blocked?',
        helpText: 'This looks at what happens when your site is at its busiest. Accessible parking spaces should remain usable and not be blocked by other vehicles, deliveries, temporary signage, or bins, even during peak periods or events.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'medium',
        reviewMode: 'deep-dive',
      },
      {
        id: 'A1-D-10',
        text: 'Is the path from parking protected from weather (covered or sheltered)?',
        helpText: 'A protected or sheltered path helps people move from parking to the entrance more comfortably in rain, heat, or strong sun.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'low',
        reviewMode: 'deep-dive',
      },
      {
        id: 'A1-D-11',
        text: 'Are there rest points or seating along longer paths from parking?',
        helpText: 'Rest points or seating give people a chance to pause and recover if they need to walk longer distances from parking to the entrance.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'low',
        reviewMode: 'deep-dive',
      },
      {
        id: 'A1-D-12',
        text: 'Is the surface of accessible parking spaces firm and slip-resistant?',
        helpText: 'Accessible parking surfaces should be stable and easy to move across. Loose gravel, uneven paving, or slippery surfaces can make it difficult or unsafe for people using the space.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'medium',
        reviewMode: 'deep-dive',
      },
      {
        id: 'A1-D-13',
        text: 'Are accessible parking spaces clearly marked with both ground markings and vertical signage?',
        helpText: 'Take a photo of the accessible parking signage.',
        type: 'yes-no-unsure',
        category: 'evidence',
        impactLevel: 'medium',
        reviewMode: 'deep-dive',
        supportsEvidence: true,
        evidenceTypes: ['photo'],
        evidenceHint: 'Upload a photo of your accessible parking signage and ground markings',
      },
      {
        id: 'A1-D-14',
        text: 'Do you have a policy for managing misuse of accessible parking spaces?',
        helpText: 'This refers to whether your organisation has a clear approach for discouraging or responding to non-eligible use of accessible parking. A simple policy helps protect access for customers who rely on these spaces and supports staff to respond consistently and respectfully.',
        type: 'yes-no-unsure',
        category: 'policy',
        impactLevel: 'low',
        reviewMode: 'deep-dive',
        supportsEvidence: true,
        evidenceTypes: ['document', 'link'],
        evidenceHint: 'Upload or link to your parking policy document',
      },
      {
        id: 'A1-D-15',
        text: 'Is information about accessible parking included on your website?',
        helpText: 'Providing accessible parking information online helps customers plan their visit in advance. This might include the location of the nearest accessible spaces (even if you don\'t have one on-site), drop-off areas, or any relevant access considerations.',
        type: 'yes-no-unsure',
        category: 'information',
        impactLevel: 'medium',
        reviewMode: 'deep-dive',
      },
      {
        id: 'A1-D-16',
        text: 'In low light conditions, is the path clearly visible and safely navigable?',
        helpText: 'Paths should remain easy to see and follow in early mornings, evenings, or poor weather. Clear lighting, visible edges, and unobstructed paths help reduce trip risks.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'medium',
        reviewMode: 'deep-dive',
      },
    ],
  },

  // A2: Entry and Doors
  {
    id: 'A2',
    code: 'A2',
    name: 'Entry and doors',
    description: 'How customers enter your building',
    group: 'getting-in',
    estimatedTime: 12,
    estimatedTimeDeepDive: 22,
    icon: 'üö™',
    questions: [
      // Pulse Check Questions
      {
        id: 'A2-F-1',
        text: 'Is your main entrance step-free?',
        helpText: 'A step-free entrance allows customers to enter the building without needing to step up or down.\n\nThis means there are no stairs, raised thresholds, changes in height between surfaces or sudden level changes at the main entrance.\n\nIf a ramp is used, it should be clearly connected to the main entrance and easy to identify.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'high',
        reviewMode: 'pulse-check',
        isEntryPoint: true,
        supportsEvidence: true,
        evidenceTypes: ['photo'],
        evidenceHint: 'Upload a photo of your main entrance showing step-free access',
      },
      {
        id: 'A2-F-2',
        text: 'Is the main entrance door at least 850mm wide?',
        helpText: 'A clear opening of at least 850mm is a common benchmark for allowing safe and independent access. Measure the doorway at its narrowest point when the door is fully open.',
        type: 'yes-no-unsure',
        category: 'measurement',
        impactLevel: 'high',
        reviewMode: 'pulse-check',
      },
      {
        id: 'A2-F-3',
        text: 'Are entrance doors easy to open (automatic, light push, or lever handles)?',
        helpText: 'Entrance doors should be easy to use without requiring significant strength or complex movements. Automatic doors, doors with a light push force, or doors with lever or D handles are easier for people to use independently.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'high',
        reviewMode: 'pulse-check',
      },
      {
        id: 'A2-F-4',
        text: 'Is the main entrance clearly visible and identifiable from the street or parking area?',
        helpText: 'Visitors should be able to easily see and recognise the main entrance as they approach the building. Clear sightlines, lighting, signage, and visual cues help reduce confusion and improve confidence, especially for first-time visitors.',
        type: 'yes-no-unsure',
        category: 'information',
        impactLevel: 'medium',
        reviewMode: 'pulse-check',
      },
      {
        id: 'A2-F-5',
        text: 'If there is an alternative accessible entrance, is it clearly signed?',
        helpText: 'If the main entrance is not accessible, any alternative accessible entrance should be clearly signposted from the main approach. Signage should guide customers without requiring them to ask for assistance or search the site.',
        type: 'yes-no-unsure',
        category: 'information',
        impactLevel: 'high',
        reviewMode: 'pulse-check',
      },
      {
        id: 'A2-F-6',
        text: 'Do staff know how to assist customers who need support entering the building?',
        helpText: 'Staff should be aware of how to support customers who may need assistance at the entrance, such as opening doors, explaining where to enter, or guiding people to an accessible entry point. Support should be offered respectfully and only when needed.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'medium',
        reviewMode: 'pulse-check',
      },
      {
        id: 'A2-F-7',
        text: 'Is there adequate lighting at the entrance for customers with low vision?',
        helpText: 'Good lighting at the entrance helps people identify doors, handles, signage, and level changes. This is especially important in low light conditions, at night, or during poor weather.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'medium',
        reviewMode: 'pulse-check',
      },
      {
        id: 'A2-F-8',
        text: 'Are there tactile ground surface indicators at key entry points?',
        helpText: 'Tactile ground surface indicators are textured ground surfaces, often made up of raised dots or bars, installed on the ground at key locations. They can be felt underfoot or with a cane.\n\nThey help people who are blind or have low vision identify important points such as entrances, hazards, or changes in direction, and provide clear wayfinding and safety information at entry points.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'medium',
        reviewMode: 'pulse-check',
      },
      // Deep Dive Questions
      {
        id: 'A2-D-9',
        text: 'If there is a ramp, does it have compliant handrails on both sides?',
        helpText: 'Handrails on both sides of a ramp help users feel safer when moving up or down the ramp and allow people to choose the side that suits them best.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'medium',
        reviewMode: 'deep-dive',
        supportsEvidence: true,
        evidenceTypes: ['photo'],
        evidenceHint: 'Upload a photo of your entrance ramp showing handrails',
      },
      {
        id: 'A2-D-10',
        text: 'What is the clear opening width of the main entrance door?',
        helpText: 'This refers to the usable width of the doorway when the door is fully open, measured at the narrowest point. The clear opening determines whether wheelchair users and people with mobility aids can enter independently.',
        type: 'yes-no-unsure',
        category: 'measurement',
        impactLevel: 'high',
        reviewMode: 'deep-dive',
        measurementUnit: 'mm',
      },
      {
        id: 'A2-D-11',
        text: 'Is the door handle at an accessible height (900-1100mm from floor)?',
        helpText: 'Door handles positioned within this height range are easier to reach for wheelchair users, people of short stature, and those with limited arm movement. Handles outside this range can be difficult or impossible for some people to use.',
        type: 'yes-no-unsure',
        category: 'measurement',
        impactLevel: 'medium',
        reviewMode: 'deep-dive',
      },
      {
        id: 'A2-D-12',
        text: 'Is there a level landing area at the entrance (at least 1500mm x 1500mm)?',
        helpText: 'A level landing provides space for people to stop, turn, or steady themselves before opening the door. This is especially important for wheelchair users, people using walking aids, or anyone who needs extra time to manage doors.',
        type: 'yes-no-unsure',
        category: 'measurement',
        impactLevel: 'medium',
        reviewMode: 'deep-dive',
      },
      {
        id: 'A2-D-13',
        text: 'Is the door threshold level? (The maximum height is 13mm)',
        helpText: 'Low thresholds reduce the effort needed to move into the building and lower the risk of wheels catching or people tripping. High or uneven thresholds can be a barrier for wheelchair users and people with mobility or balance challenges.',
        type: 'yes-no-unsure',
        category: 'measurement',
        impactLevel: 'medium',
        reviewMode: 'deep-dive',
      },
      {
        id: 'A2-D-14',
        text: 'Are glass doors marked with contrasting strips or patterns?',
        helpText: 'Clear glass doors can be difficult to see. Contrasting strips or patterns help people identify the door and avoid walking into it, supporting people with low vision as well as all visitors.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'medium',
        reviewMode: 'deep-dive',
        supportsEvidence: true,
        evidenceTypes: ['photo'],
        evidenceHint: 'Upload a photo showing contrast markings on your glass doors',
      },
      {
        id: 'A2-D-15',
        text: 'During busy periods, does the entrance become congested or blocked?',
        helpText: 'This considers how the entrance functions at peak times. Congestion from queues, furniture, displays, service counters or security checks can make it difficult for people to enter safely.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'medium',
        reviewMode: 'deep-dive',
      },
      {
        id: 'A2-D-16',
        text: 'If there is an intercom or bell, is it located at an accessible height between 900 and 1100mm from the floor?',
        helpText: 'An accessible intercom or bell allows customers to request entry or assistance independently, without needing to reach too high or stretch. It should be easy to see, reach, and use from a seated or standing position.',
        type: 'yes-no-unsure',
        category: 'measurement',
        impactLevel: 'low',
        reviewMode: 'deep-dive',
      },
      {
        id: 'A2-D-17',
        text: 'If automatic doors are used, do they stay open long enough for slow-moving visitors?',
        helpText: 'Automatic doors should allow enough time for people who move more slowly to pass through safely. Doors that close too quickly can cause stress or increase the risk of injury.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'medium',
        reviewMode: 'deep-dive',
      },
      {
        id: 'A2-D-18',
        text: 'Is there a mat or surface change at the entrance that could cause a trip hazard?',
        helpText: 'Mats or surface changes should lie flat and be securely fixed. Loose edges, thick mats, or sudden changes in surface level can create trip hazards for people with low vision, balance issues, or mobility aids.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'medium',
        reviewMode: 'deep-dive',
      },
      // Media Analysis Questions
      {
        id: 'A2-MA-1',
        text: 'Upload a photo of your entrance for accessibility analysis',
        helpText: 'Our AI will analyze your entrance against AS 1428.1 and Access to Premises Standards for door width, threshold, visibility, and step-free access.',
        type: 'media-analysis',
        category: 'evidence',
        impactLevel: 'high',
        reviewMode: 'deep-dive',
        mediaAnalysisType: 'entrance',
        mediaAnalysisHint: 'Take a photo from outside showing your main entrance, door, any steps or ramps, and immediate surroundings.',
      },
      {
        id: 'A2-MA-2',
        text: 'Upload a photo of your entrance door for analysis',
        helpText: 'We can analyze door width, handle type, threshold height, and visual contrast against accessibility standards.',
        type: 'media-analysis',
        category: 'evidence',
        impactLevel: 'medium',
        reviewMode: 'deep-dive',
        mediaAnalysisType: 'door',
        mediaAnalysisHint: 'Take a close-up photo of your entrance door showing the handle, threshold, and any contrast strips.',
      },
      {
        id: 'A2-MA-3',
        text: 'Upload a photo of any ramp at your entrance',
        helpText: 'We can analyze ramp gradient, width, handrails, and landing areas against AS 1428.1 requirements.',
        type: 'media-analysis',
        category: 'evidence',
        impactLevel: 'high',
        reviewMode: 'deep-dive',
        mediaAnalysisType: 'ramp',
        mediaAnalysisHint: 'Take a photo showing the full ramp from top or side, including handrails and landing areas.',
        showWhen: { questionId: 'A2-D-9', answers: ['yes', 'not-sure'] },
      },
    ],
  },

  // A3a: Paths and Aisles
  {
    id: 'A3a',
    code: 'A3a',
    name: 'Paths and aisles',
    description: 'Internal circulation and movement routes',
    group: 'getting-in',
    estimatedTime: 12,
    estimatedTimeDeepDive: 18,
    icon: 'üö∂',
    questions: [
      {
        id: 'A3a-1-1',
        text: 'Are main circulation paths at least 1 metre wide?',
        helpText: 'Main circulation paths are the primary walkways people use to move through your space. A clear width of at least 1 metre helps wheelchair users, people using mobility aids, those walking with companions, or using service animals to move comfortably.',
        type: 'yes-no-unsure',
        category: 'measurement',
        impactLevel: 'high',
        reviewMode: 'pulse-check',
        isEntryPoint: true,
      },
      {
        id: 'A3a-1-2',
        text: 'Are paths kept clear of obstacles and trip hazards?',
        helpText: 'Circulation paths should be free from obstacles such as furniture, displays, cords, mats, bins, or clutter. Clear paths reduce trip risks and make it easier for people to move safely and confidently through the space.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'high',
        reviewMode: 'pulse-check',
      },
      {
        id: 'A3a-1-3',
        text: 'If there are level changes, is there an accessible alternative (lift, ramp)?',
        helpText: 'Where there are steps or changes in level, there should be an accessible alternative such as a ramp or lift so all customers can reach the same areas.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'high',
        reviewMode: 'pulse-check',
      },
      {
        id: 'A3a-1-4',
        text: 'Would a customer using a mobility aid be able to navigate your space independently?',
        helpText: 'This considers the overall experience of moving through your space without assistance. Clear paths, adequate width, smooth surfaces, and accessible alternatives help customers navigate confidently and independently.',
        type: 'yes-no-unsure',
        category: 'lived-experience',
        impactLevel: 'high',
        reviewMode: 'pulse-check',
      },
      // Media Analysis Questions
      {
        id: 'A3a-MA-1',
        text: 'Upload a photo of your pathways for accessibility analysis',
        helpText: 'Our AI will analyze your pathways for width, surface condition, obstacles, and trip hazards based on AS 1428.1 standards.',
        type: 'media-analysis',
        category: 'evidence',
        impactLevel: 'medium',
        reviewMode: 'deep-dive',
        mediaAnalysisType: 'pathway',
        mediaAnalysisHint: 'Take photos of your main circulation paths, aisles, and corridors showing the width and surface condition.',
      },
      {
        id: 'A3a-MA-2',
        text: 'Upload a photo of your ground surfaces for analysis',
        helpText: 'We can analyze floor surfaces for slip resistance, level changes, and accessibility compliance.',
        type: 'media-analysis',
        category: 'evidence',
        impactLevel: 'medium',
        reviewMode: 'deep-dive',
        mediaAnalysisType: 'ground-surface',
        mediaAnalysisHint: 'Take photos of different floor surfaces in your venue, including any transitions between materials.',
      },
    ],
  },

  // A3b: Queues and Busy Times
  {
    id: 'A3b',
    code: 'A3b',
    name: 'Queues and busy times',
    description: 'Managing queues and crowded periods',
    group: 'getting-in',
    estimatedTime: 10,
    estimatedTimeDeepDive: 15,
    icon: '‚è≥',
    questions: [
      {
        id: 'A3b-1-1',
        text: 'Is there seating available in queue areas for people who cannot stand for long?',
        helpText: 'Seating in queue areas allows people with fatigue, chronic pain, mobility conditions, or health needs to rest while waiting. Even a small number of seats can make waiting more manageable and inclusive.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'high',
        reviewMode: 'pulse-check',
        isEntryPoint: true,
      },
      {
        id: 'A3b-1-2',
        text: 'Can customers request priority access when needed?',
        helpText: 'Priority access gives customers a way to avoid long waits when standing is difficult. This might include staff-managed entry, priority ordering, alternative waiting arrangements, or clear processes for requesting assistance.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'high',
        reviewMode: 'pulse-check',
      },
      {
        id: 'A3b-1-3',
        text: 'Do staff know how to accommodate customers who need queue assistance?',
        helpText: 'Staff should understand how to respond respectfully and confidently when a customer needs support with queuing. This includes offering alternatives without requiring customers to explain or justify their needs.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'medium',
        reviewMode: 'pulse-check',
      },
    ],
  },

  // ============================================
  // DURING THE VISIT (5 modules)
  // ============================================

  // A4: Seating, Furniture and Layout
  {
    id: 'A4',
    code: 'A4',
    name: 'Seating, furniture and layout',
    description: 'Physical comfort and usability of your space',
    group: 'during-visit',
    estimatedTime: 12,
    estimatedTimeDeepDive: 18,
    icon: 'ü™ë',
    questions: [
      {
        id: 'A4-1-1',
        text: 'Is there a variety of seating options (with arms, without arms, different heights)?',
        helpText: 'Different seating types support different bodies and needs. Seats with arms can help people stand up, while varied heights and armless options support comfort and choice.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'high',
        reviewMode: 'pulse-check',
        isEntryPoint: true,
      },
      {
        id: 'A4-1-2',
        text: 'Is there space for wheelchair users alongside seated companions?',
        helpText: 'Seating areas should include space where wheelchair users can sit next to friends, family, or companions rather than being separated from the group.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'high',
        reviewMode: 'pulse-check',
      },
      {
        id: 'A4-1-3',
        text: 'Are tables and counters at accessible heights for wheelchair users?',
        helpText: 'Accessible tables and counters allow wheelchair users to approach, sit, and use the surface comfortably. As a guide, an accessible table or counter is usually between 750 and 850mm high, with clear knee space underneath of at least 700mm high and 800mm wide. At least one accessible option should be available where customers interact, dine, or make transactions.',
        type: 'yes-no-unsure',
        category: 'measurement',
        impactLevel: 'high',
        reviewMode: 'pulse-check',
      },
      {
        id: 'A4-1-4',
        text: 'Can furniture be rearranged to accommodate different needs?',
        helpText: 'Flexible furniture allows spaces to adapt to different access needs. The ability to move chairs or tables can help create space for wheelchairs, prams, or service animals when required.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'medium',
        reviewMode: 'pulse-check',
      },
    ],
  },

  // A5: Toilets and Amenities
  {
    id: 'A5',
    code: 'A5',
    name: 'Toilets and amenities',
    description: 'Accessible toilet and amenity facilities',
    group: 'during-visit',
    estimatedTime: 15,
    estimatedTimeDeepDive: 22,
    icon: 'üöª',
    questions: [
      {
        id: 'A5-1-1',
        text: 'Do you have at least one accessible toilet?',
        helpText: 'An accessible toilet provides essential facilities for people with disability, mobility needs, or who require assistance. Having at least one accessible toilet supports longer and more comfortable visits.',
        type: 'single-select',
        category: 'operational',
        impactLevel: 'high',
        reviewMode: 'pulse-check',
        isEntryPoint: true,
        options: [
          { id: 'yes', label: 'Yes' },
          { id: 'yes-offsite', label: 'Yes ‚Äì off-site nearby' },
          { id: 'no', label: 'No' },
          { id: 'not-sure', label: 'Not sure' },
        ],
      },
      {
        id: 'A5-1-2',
        text: 'Do you know where the nearest accessible toilet is?',
        helpText: 'Staff should be able to confidently direct customers to the nearest accessible toilet, including providing clear directions or signage information. This helps customers avoid unnecessary searching or discomfort, especially in larger or shared spaces.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'high',
        reviewMode: 'pulse-check',
        showWhen: { questionId: 'A5-1-1', answers: ['no', 'not-sure'] },
      },
      {
        id: 'A5-1-3',
        text: 'Is the accessible toilet clearly signed and easy to find?',
        helpText: 'Clear signage helps customers locate the accessible toilet without needing to ask for assistance. Signage should be visible from key areas within the space.',
        type: 'yes-no-unsure',
        category: 'information',
        impactLevel: 'medium',
        reviewMode: 'pulse-check',
        showWhen: { questionId: 'A5-1-1', answers: ['yes', 'yes-offsite'] },
        supportsEvidence: true,
        evidenceTypes: ['photo'],
        evidenceHint: 'Upload a photo of your accessible toilet signage',
      },
      {
        id: 'A5-1-4',
        text: 'Is the accessible toilet kept clear of storage and obstacles?',
        helpText: 'Accessible toilets should not be used for storage. Clear floor space and unobstructed fittings are necessary for safe and independent use.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'high',
        reviewMode: 'pulse-check',
        showWhen: { questionId: 'A5-1-1', answers: ['yes', 'yes-offsite'] },
      },
      {
        id: 'A5-1-5',
        text: 'Is there an emergency alarm in the accessible toilet?',
        helpText: 'An emergency alarm allows users to call for assistance if needed. It should be clearly visible, reachable from the toilet and floor, and known to staff.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'high',
        safetyRelated: true,
        reviewMode: 'pulse-check',
        showWhen: { questionId: 'A5-1-1', answers: ['yes', 'yes-offsite'] },
      },
    ],
  },

  // A6: Lighting, Sound and Sensory Environment
  {
    id: 'A6',
    code: 'A6',
    name: 'Lighting, sound and sensory environment',
    description: 'Sensory aspects of your environment',
    group: 'during-visit',
    estimatedTime: 12,
    estimatedTimeDeepDive: 18,
    icon: 'üí°',
    questions: [
      {
        id: 'A6-1-1',
        text: 'Is lighting adequate for reading and navigation?',
        helpText: 'Adequate lighting helps people read signs, see hazards, and move around safely. Poor lighting can make navigation difficult for people with low vision and increase trip risks for everyone.\n\nAs a general guide, indoor circulation areas are often around 100‚Äì200 lux, while areas used for reading, forms, or detailed tasks are closer to 300‚Äì500 lux. Lighting levels can be roughly checked using a free light (lux) meter app on a smartphone. Lighting should be even, without strong glare or deep shadows.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'high',
        reviewMode: 'pulse-check',
        isEntryPoint: true,
      },
      {
        id: 'A6-1-2',
        text: 'Are there quiet or reset spaces available for people who need a break from noise?',
        helpText: 'Quiet or reset spaces provide a calm area where people can step away from noise, crowds, or sensory input. These spaces support people with sensory sensitivities, anxiety, neurodivergence, fatigue, or health conditions.\n\nA quiet space does not need to be large or formal, but it should be clearly identified, reasonably quiet, and free from interruptions where possible.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'medium',
        reviewMode: 'pulse-check',
      },
      {
        id: 'A6-1-3',
        text: 'Is background noise at a level that allows conversation?',
        helpText: 'Background noise should allow people to speak and be heard without raising their voice. Consider whether music, machinery, crowds, or echoes make it hard to communicate, especially at service counters or seating areas.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'medium',
        reviewMode: 'pulse-check',
      },
      {
        id: 'A6-1-4',
        text: 'Are there any flashing lights or sudden loud noises that could affect some visitors?',
        helpText: 'Flashing lights, strobe effects, alarms, or sudden loud noises can be distressing or disorienting for some people, including those with sensory sensitivities, migraines, epilepsy, or anxiety.\n\nWhere these elements are used, consider whether warnings are provided and whether quieter or calmer alternatives are available.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'medium',
        safetyRelated: true,
        reviewMode: 'pulse-check',
      },
      {
        id: 'A6-1-5',
        text: 'Is the indoor temperature comfortable and able to be adjusted or managed for different needs?',
        helpText: 'Comfortable and stable indoor temperatures help people stay focused, safe, and well. Extreme heat or cold can affect people with health conditions, fatigue, sensory sensitivities, or those taking certain medications.\n\nWhere possible, there should be ways to manage temperature, such as air conditioning, heating, fans, or shaded areas. Staff awareness of temperature issues and the ability to respond to concerns can also support comfort.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'low',
        reviewMode: 'pulse-check',
      },
      // Media Analysis Questions
      {
        id: 'A6-MA-1',
        text: 'Upload a photo of your venue lighting for analysis',
        helpText: 'Our AI will analyze your venue lighting for adequacy, contrast, glare, and even distribution based on accessibility standards.',
        type: 'media-analysis',
        category: 'evidence',
        impactLevel: 'medium',
        reviewMode: 'deep-dive',
        mediaAnalysisType: 'lighting',
        mediaAnalysisHint: 'Take photos of key areas showing the lighting conditions - reception, pathways, reading areas, and service counters work best.',
      },
    ],
  },

  // B2: Signage and Wayfinding
  {
    id: 'B2',
    code: 'B2',
    name: 'Signage and wayfinding',
    description: 'How customers find their way around',
    group: 'during-visit',
    estimatedTime: 12,
    estimatedTimeDeepDive: 18,
    icon: 'üß≠',
    questions: [
      {
        id: 'B2-1-1',
        text: 'Is signage clear, with good contrast and readable font sizes?',
        helpText: 'Clear signage uses high contrast between text and background, simple fonts, title case, and text sizes that can be read at a distance. Signs should avoid overly decorative fonts, low contrast colours, or cluttered layouts.',
        type: 'yes-no-unsure',
        category: 'information',
        impactLevel: 'high',
        reviewMode: 'pulse-check',
        isEntryPoint: true,
        allowPartial: true, // Multiple elements: contrast, font size, clarity
        supportsEvidence: true,
        evidenceTypes: ['photo'],
        evidenceHint: 'Upload photos of your wayfinding signage',
      },
      {
        id: 'B2-1-2',
        text: 'Are signs placed at consistent heights and locations?',
        helpText: 'Consistent placement helps people know where to look for information. As a general guide, wall-mounted signs are often placed so the main information is between around 1200 and 1600mm from the floor, making them visible to people who are standing or seated.\n\nSigns should be positioned where people naturally pause or make decisions, such as entrances, intersections, and key facilities.',
        type: 'yes-no-unsure',
        category: 'information',
        impactLevel: 'medium',
        reviewMode: 'pulse-check',
      },
      {
        id: 'B2-1-3',
        text: 'Are accessible facilities (toilets, lifts) clearly signed?',
        helpText: 'Accessible facilities should be clearly identified using recognisable symbols and plain language. Clear signage helps people find essential facilities without needing to ask for assistance or search the space.',
        type: 'yes-no-unsure',
        category: 'information',
        impactLevel: 'high',
        reviewMode: 'pulse-check',
      },
      {
        id: 'B2-1-4',
        text: 'Would a first-time visitor be able to navigate independently?',
        helpText: 'This question considers the overall experience of navigating your space for someone who has never visited before. Clear signage, logical layout, good lighting, manageable noise levels, and visible landmarks all support independent navigation.\n\nIf someone unfamiliar with the space can find their way without assistance, the environment is likely working well.',
        type: 'yes-no-unsure',
        category: 'lived-experience',
        impactLevel: 'high',
        reviewMode: 'pulse-check',
      },
      // Media Analysis Questions
      {
        id: 'B2-MA-1',
        text: 'Upload a photo of your signage for accessibility analysis',
        helpText: 'Our AI will analyze your signage against AS 1428.1 and AS 1428.2 standards for contrast, text size, font style, placement, and readability.',
        type: 'media-analysis',
        category: 'evidence',
        impactLevel: 'medium',
        reviewMode: 'deep-dive',
        mediaAnalysisType: 'signage',
        mediaAnalysisHint: 'Take a clear photo of your wayfinding signs, directional signs, or facility signs to check accessibility features.',
      },
    ],
  },

  // B3: Menus and Printed Materials
  {
    id: 'B3',
    code: 'B3',
    name: 'Menus and printed materials',
    description: 'Accessibility of printed information',
    group: 'during-visit',
    estimatedTime: 10,
    estimatedTimeDeepDive: 15,
    icon: 'üìã',
    questions: [
      {
        id: 'B3-1-1',
        text: 'Are large print versions of key materials available?',
        helpText: 'Large print materials support people with low vision or who find standard text difficult to read. As a general guide, large print uses a minimum of 16‚Äì18 point font, clear sans serif typefaces, strong contrast, and simple layouts. Key materials might include menus, programs, safety instructions, guides, or forms.',
        type: 'yes-no-unsure',
        category: 'information',
        impactLevel: 'medium',
        reviewMode: 'pulse-check',
        isEntryPoint: true,
        supportsEvidence: true,
        evidenceTypes: ['photo', 'document'],
        evidenceHint: 'Upload examples of your large print materials (menus, brochures, guides)',
      },
      {
        id: 'B3-1-2',
        text: 'Can staff read menus or materials aloud for customers who need it?',
        helpText: 'Some customers may prefer or require information to be read aloud. Staff should feel comfortable offering this support respectfully and without drawing attention to the customer.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'medium',
        reviewMode: 'pulse-check',
      },
      {
        id: 'B3-1-3',
        text: 'Are digital alternatives available (QR codes, online menus)?',
        helpText: 'Digital alternatives allow customers to access information on their own devices using screen readers, zoom, or other accessibility settings. QR codes or online versions should link to accessible content that is easy to navigate and read.',
        type: 'yes-no-unsure',
        category: 'information',
        impactLevel: 'medium',
        reviewMode: 'pulse-check',
      },
      // Media Analysis Questions
      {
        id: 'B3-MA-1',
        text: 'Upload a menu or printed material for accessibility analysis',
        helpText: 'Our AI will analyze your menu, brochure, or printed material against accessibility standards including font size, contrast, layout clarity, and readability.',
        type: 'media-analysis',
        category: 'evidence',
        impactLevel: 'medium',
        reviewMode: 'deep-dive',
        mediaAnalysisType: 'menu',
        mediaAnalysisHint: 'Upload a photo or scan of your menu to check font size, contrast, and readability against AS 1428.1 and best practice guidelines.',
      },
      {
        id: 'B3-MA-2',
        text: 'Upload a brochure or flyer for accessibility analysis',
        helpText: 'We can analyze your promotional materials for accessibility features like contrast, text size, and clear layout.',
        type: 'media-analysis',
        category: 'evidence',
        impactLevel: 'low',
        reviewMode: 'deep-dive',
        mediaAnalysisType: 'brochure',
        mediaAnalysisHint: 'Upload a photo or PDF of your brochure or flyer to check accessibility features.',
      },
      {
        id: 'B3-MA-3',
        text: 'Upload your large print materials for verification',
        helpText: 'We can verify that your large print materials meet recommended standards (minimum 16-18pt font, good contrast, clear layout).',
        type: 'media-analysis',
        category: 'evidence',
        impactLevel: 'medium',
        reviewMode: 'deep-dive',
        mediaAnalysisType: 'large-print',
        mediaAnalysisHint: 'Upload a sample of your large print materials to verify they meet accessibility standards.',
        showWhen: { questionId: 'B3-1-1', answers: ['yes'] },
      },
    ],
  },

  // ============================================
  // SERVICE AND SUPPORT (4 modules)
  // ============================================

  // C1: Customer Service and Staff Confidence
  {
    id: 'C1',
    code: 'C1',
    name: 'Customer service and staff confidence',
    description: 'How your team supports customers with different needs',
    group: 'service-support',
    estimatedTime: 15,
    estimatedTimeDeepDive: 28,
    icon: 'üë•',
    questions: [
      // Pulse Check Questions
      {
        id: 'C1-F-1',
        text: 'Have staff received disability awareness or accessibility training?',
        helpText: 'Disability awareness or accessibility training helps staff understand different needs and respond respectfully and confidently. Training does not need to be complex, but it should cover inclusive communication, assistance etiquette, and common access considerations.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'high',
        reviewMode: 'pulse-check',
        isEntryPoint: true,
        supportsEvidence: true,
        evidenceTypes: ['document', 'link'],
        evidenceHint: 'Upload training materials or certificates, or link to your training program',
      },
      {
        id: 'C1-F-2',
        text: 'Do staff know how to welcome and assist customers with assistance animals?',
        helpText: 'Staff should understand how to interact appropriately when a customer has an assistance animal. This includes allowing the animal to remain with the customer, not distracting or touching the animal, and offering assistance when appropriate.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'high',
        reviewMode: 'pulse-check',
      },
      {
        id: 'C1-F-3',
        text: 'Do staff feel confident communicating with customers who have different needs?',
        helpText: 'This considers whether staff feel comfortable adapting their communication style, allowing extra time, or using different approaches when needed. Confidence helps create a welcoming and inclusive experience.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'high',
        reviewMode: 'pulse-check',
      },
      {
        id: 'C1-F-4',
        text: 'Do you have a process for customers to request assistance before arriving?',
        helpText: 'A clear pre-arrival process allows customers to share their needs in advance, such as through a booking form, email, phone call, or website information. This helps staff prepare and respond effectively.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'medium',
        reviewMode: 'pulse-check',
      },
      {
        id: 'C1-F-5',
        text: 'Are staff trained in various communication strategies?',
        helpText: 'Some customers use alternative or augmentative communication methods. Staff awareness of basic strategies or tools can support clearer communication and reduce frustration.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'medium',
        reviewMode: 'pulse-check',
      },
      {
        id: 'C1-F-6',
        text: 'Do staff know where accessible facilities are located to direct customers?',
        helpText: 'Staff should be able to quickly and accurately direct customers to accessible facilities such as toilets, lifts, seating, or step-free entrances. This reduces stress and unnecessary searching.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'medium',
        reviewMode: 'pulse-check',
      },
      {
        id: 'C1-F-7',
        text: 'Is there a clear process for handling accessibility complaints or feedback?',
        helpText: 'A clear feedback process helps organisations identify barriers and respond to concerns respectfully. Customers should know how to provide feedback and feel confident it will be taken seriously.',
        type: 'yes-no-unsure',
        category: 'policy',
        impactLevel: 'medium',
        reviewMode: 'pulse-check',
        supportsEvidence: true,
        evidenceTypes: ['document', 'link'],
        evidenceHint: 'Upload your feedback or complaints process document',
      },
      {
        id: 'C1-F-8',
        text: 'Do staff understand they cannot refuse service to someone with an assistance animal?',
        helpText: 'Staff should understand that customers with assistance animals must not be refused entry or service because of the animal. Assistance animals are generally permitted in areas open to the public, including food and dining areas.',
        type: 'yes-no-unsure',
        category: 'policy',
        impactLevel: 'high',
        reviewMode: 'pulse-check',
      },
      // Deep Dive Questions
      {
        id: 'C1-D-9',
        text: 'Are staff trained to offer assistance without being condescending or over-helpful?',
        helpText: 'Offering assistance respectfully means asking first, listening, and following the customer\'s lead. Support should be provided without assumptions, pressure, or taking over unless requested.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'medium',
        reviewMode: 'deep-dive',
      },
      {
        id: 'C1-D-10',
        text: 'Do staff know how to communicate with customers who are Deaf or hard of hearing?',
        helpText: 'This includes speaking clearly, facing the person, reducing background noise where possible, and using alternative communication methods such as writing or gestures when needed.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'medium',
        reviewMode: 'deep-dive',
      },
      {
        id: 'C1-D-11',
        text: 'Is pen and paper available for written communication if needed?',
        helpText: 'Simple tools like pen and paper can support clear communication when speech or hearing barriers exist. They should be easy to access when required.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'low',
        reviewMode: 'deep-dive',
      },
      {
        id: 'C1-D-12',
        text: 'Do staff know how to assist customers who may need extra time or have cognitive differences?',
        helpText: 'Some customers may process information more slowly or need instructions explained differently. Staff should feel comfortable allowing extra time, using plain language, and checking understanding.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'medium',
        reviewMode: 'deep-dive',
      },
      {
        id: 'C1-D-13',
        text: 'Is there a quiet space available for customers who become overwhelmed?',
        helpText: 'A quiet or low-stimulation space allows customers to step away from noise or crowds if they feel overwhelmed. This supports people with sensory sensitivities, anxiety, or fatigue.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'medium',
        reviewMode: 'deep-dive',
      },
      {
        id: 'C1-D-14',
        text: 'Do you have a documented policy on serving customers with disabilities?',
        helpText: 'A documented approach helps ensure consistent, respectful service across staff and situations. Policies do not need to be complex but should clearly support inclusion.',
        type: 'yes-no-unsure',
        category: 'policy',
        impactLevel: 'medium',
        reviewMode: 'deep-dive',
        supportsEvidence: true,
        evidenceTypes: ['document', 'link'],
        evidenceHint: 'Upload your customer accessibility policy or provide a link',
      },
      {
        id: 'C1-D-15',
        text: 'Is accessibility training included in new staff onboarding?',
        helpText: 'Including accessibility in onboarding helps new staff understand expectations from the start and builds confidence in providing inclusive service.',
        type: 'yes-no-unsure',
        category: 'policy',
        impactLevel: 'medium',
        reviewMode: 'deep-dive',
      },
      {
        id: 'C1-D-16',
        text: 'Do staff know how to assist customers during an emergency evacuation?',
        helpText: 'Staff should understand how to support customers with different needs during emergencies, including providing clear instructions and offering assistance when appropriate.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'high',
        safetyRelated: true,
        reviewMode: 'deep-dive',
      },
      {
        id: 'C1-D-17',
        text: 'Are staff aware of common accessibility equipment (e.g., hearing loops, wheelchairs for loan)?',
        helpText: 'Staff should know what accessibility equipment is available on site and how customers can access or use it.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'low',
        reviewMode: 'deep-dive',
      },
      {
        id: 'C1-D-18',
        text: 'Do you offer any assistive technology or equipment for customer use?',
        helpText: 'Assistive equipment may include hearing loops, portable seating, wheelchairs, or visual aids. Availability should be communicated clearly to staff and customers.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'low',
        reviewMode: 'deep-dive',
      },
      {
        id: 'C1-D-19',
        text: 'Are carers or support people welcomed and accommodated appropriately?',
        helpText: 'Carers and support people play an important role for many customers. They should be welcomed, included, and able to accompany the person they support without barriers.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'medium',
        reviewMode: 'deep-dive',
      },
      {
        id: 'C1-D-20',
        text: 'Is there a process for providing information in alternative formats on request?',
        helpText: 'Alternative formats might include large print, digital versions, or verbal explanations. A clear process helps staff respond confidently and consistently.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'low',
        reviewMode: 'deep-dive',
      },
    ],
  },

  // C2: Bookings, Payments and Flexibility
  {
    id: 'C2',
    code: 'C2',
    name: 'Bookings, payments and flexibility',
    description: 'Flexibility in your booking and payment processes',
    group: 'service-support',
    estimatedTime: 10,
    estimatedTimeDeepDive: 15,
    icon: 'üí≥',
    questions: [
      {
        id: 'C2-1-1',
        text: 'Can customers easily modify bookings if their needs change?',
        helpText: 'Flexible booking processes allow customers to update access requirements if circumstances change. This reduces stress and supports better planning.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'medium',
        reviewMode: 'pulse-check',
        isEntryPoint: true,
      },
      {
        id: 'C2-1-2',
        text: 'Are payment terminals positioned at accessible heights?',
        helpText: 'Payment terminals should be reachable and usable by wheelchair users and people of different heights, without requiring stretching or awkward positioning.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'medium',
        reviewMode: 'pulse-check',
      },
      {
        id: 'C2-1-3',
        text: 'Can staff bring payment terminals to customers if needed?',
        helpText: 'Portable terminals allow transactions to be completed comfortably when fixed counters are difficult to access.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'low',
        reviewMode: 'pulse-check',
      },
      {
        id: 'C2-1-4',
        text: 'Is there flexibility in cancellation policies for disability-related changes?',
        helpText: 'Flexible cancellation or rescheduling recognises that access needs or health conditions can change unexpectedly.',
        type: 'yes-no-unsure',
        category: 'policy',
        impactLevel: 'medium',
        reviewMode: 'pulse-check',
      },
    ],
  },

  // A7: Safety and Emergencies
  {
    id: 'A7',
    code: 'A7',
    name: 'Safety and emergencies',
    description: 'Emergency procedures that include everyone',
    group: 'service-support',
    estimatedTime: 12,
    estimatedTimeDeepDive: 18,
    icon: 'üö®',
    questions: [
      {
        id: 'A7-1-1',
        text: 'Do your emergency procedures include plans for people with disabilities?',
        helpText: 'Emergency procedures should consider people with mobility, sensory, or cognitive needs so everyone can be supported safely.',
        type: 'yes-no-unsure',
        category: 'policy',
        impactLevel: 'high',
        safetyRelated: true,
        reviewMode: 'pulse-check',
        isEntryPoint: true,
        supportsEvidence: true,
        evidenceTypes: ['document', 'link'],
        evidenceHint: 'Upload your emergency evacuation procedures document',
      },
      {
        id: 'A7-1-2',
        text: 'Are emergency exits accessible to people with mobility aids?',
        helpText: 'Accessible exits allow people with access needs to evacuate safely without encountering steps or barriers.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'high',
        safetyRelated: true,
        reviewMode: 'pulse-check',
      },
      {
        id: 'A7-1-3',
        text: 'Are there visual and audible alarms for emergencies?',
        helpText: 'Using both visual and audible alarms helps ensure emergency alerts are accessible to people with hearing or vision access needs.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'high',
        safetyRelated: true,
        reviewMode: 'pulse-check',
      },
      {
        id: 'A7-1-4',
        text: 'Do staff know how to assist customers with different needs during an evacuation?',
        helpText: 'Staff confidence and clarity during evacuations can reduce confusion and support safe outcomes for everyone.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'high',
        safetyRelated: true,
        reviewMode: 'pulse-check',
      },
    ],
  },

  // C3: Learning from Your Customers
  {
    id: 'C3',
    code: 'C3',
    name: 'Learning from your customers',
    description: 'Gathering and acting on customer feedback',
    group: 'service-support',
    estimatedTime: 10,
    estimatedTimeDeepDive: 15,
    icon: 'üí¨',
    questions: [
      {
        id: 'C3-1-1',
        text: 'Do you have a way for customers to provide feedback about accessibility?',
        helpText: 'Accessible feedback options allow customers to share experiences, barriers, or suggestions. This might include online forms, email, phone, or in-person options.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'medium',
        reviewMode: 'pulse-check',
        isEntryPoint: true,
      },
      {
        id: 'C3-1-2',
        text: 'Do you regularly review and act on accessibility feedback?',
        helpText: 'Reviewing feedback and taking action shows commitment to improvement and helps prevent repeat issues.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'medium',
        reviewMode: 'pulse-check',
      },
      {
        id: 'C3-1-3',
        text: 'Is the feedback process itself accessible (multiple formats, easy to use)?',
        helpText: 'Feedback processes should be easy to find, simple to use, and available in more than one format so all customers can participate.',
        type: 'yes-no-unsure',
        category: 'operational',
        impactLevel: 'medium',
        reviewMode: 'pulse-check',
      },
    ],
  },
];

// Helper to get module by ID or code
export function getModuleById(id: string): AccessModule | undefined {
  return accessModules.find(m => m.id === id || m.code === id);
}

// Helper to get modules by group
export function getModulesByGroup(group: string): AccessModule[] {
  return accessModules.filter(m => m.group === group);
}

// Helper to get questions for a review mode
export function getQuestionsForMode(
  module: AccessModule,
  reviewMode: 'pulse-check' | 'deep-dive'
): BranchingQuestion[] {
  if (reviewMode === 'pulse-check') {
    return module.questions.filter(
      q => q.reviewMode === 'pulse-check' || q.reviewMode === 'both'
    );
  }
  // Deep dive includes all questions
  return module.questions;
}

// Calculate estimated time based on review mode
export function getEstimatedTime(
  module: AccessModule,
  reviewMode: 'pulse-check' | 'deep-dive'
): number {
  return reviewMode === 'deep-dive' && module.estimatedTimeDeepDive
    ? module.estimatedTimeDeepDive
    : module.estimatedTime;
}

// Get question counts by review mode
export function getQuestionCounts(module: AccessModule): {
  pulseCheck: number;
  deepDive: number;
  total: number;
} {
  const pulseCheck = module.questions.filter(
    q => q.reviewMode === 'pulse-check' || q.reviewMode === 'both'
  ).length;
  const total = module.questions.length;
  return {
    pulseCheck,
    deepDive: total - pulseCheck,
    total,
  };
}
